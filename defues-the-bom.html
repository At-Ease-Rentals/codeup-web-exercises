
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Defuse the BOM</title>
</head>
<body>

<h2 id="message">This BOM will self-destruct in <span id="timer">5</span> seconds...</h2>
<button id="defuse">Defuse the BOM</button>

<script>
	(function() {
		"use strict";

		let detonationTimer = 5;

		// TODO: This function needs to be called once every second
		function updateTimer() {
			if (detonationTimer === 0) {
				alert('EXTERMINATE!');
				document.body.innerHTML = '';
			} else if (detonationTimer > 0) {
				document.getElementById('timer').innerHTML = detonationTimer;
			}

			detonationTimer--;
		}

		const intervalId = setInterval(updateTimer, 1000);
		// this assigns a variable to the setInterval () so it can be used later if we need to stop it

		// TODO: When this function runs, it needs to
		// cancel the interval/timeout for updateTimer()
		function defuseTheBOM() {
			clearInterval(intervalId);
			//this call the const variable above, so we can stop the setTimeout() when the button is pressed.
		}



		// Don't modify anything below this line!
		//
		// This causes the defuseTheBOM() function to be called
		// when the "defuser" button is clicked.
		// We will learn about events in the DOM lessons
		let defuse = document.querySelector('#defuse');
		defuse.addEventListener('click', defuseTheBOM);
	})();
</script>
</body>
</html>
